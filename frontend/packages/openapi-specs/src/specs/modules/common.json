{
  "openapi": "3.0.0",
  "info": {
    "title": "VolcAIOpsKit - Common Schemas",
    "version": "1.0.0",
    "description": "Common schema definitions"
  },
  "paths": {},
  "components": {
    "schemas": {
      "APIResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {}
        }
      },
      "APIResponseBoolean": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "boolean"
          }
        }
      },
      "APIResponseString": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "string"
          }
        }
      },
      "APIResponseStringList": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ChannelType": {
        "type": "string",
        "enum": ["Lark", "DingTalk", "WeChat", "Webhook"],
        "description": "Channel type enumeration for different messaging platforms"
      },
      "ImportLog": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "description": "Log timestamp"
          },
          "level": {
            "type": "string",
            "enum": ["INFO", "WARNING", "ERROR"],
            "description": "Log level"
          },
          "message": {
            "type": "string",
            "description": "Log message"
          },
          "details": {
            "type": "object",
            "description": "Additional details",
            "additionalProperties": true
          }
        },
        "required": ["timestamp", "level", "message"]
      },
      "ImportResult": {
        "type": "object",
        "properties": {
          "total_rows": {
            "type": "integer",
            "description": "Total number of rows"
          },
          "successful_imports": {
            "type": "integer",
            "description": "Number of successful imports"
          },
          "failed_imports": {
            "type": "integer",
            "description": "Number of failed imports"
          },
          "skipped_rows": {
            "type": "integer",
            "description": "Number of skipped rows"
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of error messages"
          },
          "logs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImportLog"
            },
            "description": "List of import logs"
          },
          "start_time": {
            "type": "string",
            "description": "Start time"
          },
          "end_time": {
            "type": "string",
            "nullable": true,
            "description": "End time"
          }
        },
        "required": [
          "total_rows",
          "successful_imports",
          "failed_imports",
          "skipped_rows",
          "errors",
          "logs",
          "start_time"
        ]
      },
      "APIResponseImportResult": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ImportResult"
          }
        }
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "description": "Number of records per page"
          },
          "skip": {
            "type": "integer",
            "description": "Number of records to skip"
          },
          "total": {
            "type": "integer",
            "description": "Total number of records"
          },
          "page": {
            "type": "integer",
            "description": "Current page number"
          },
          "pages": {
            "type": "integer",
            "description": "Total number of pages"
          }
        },
        "required": ["limit", "skip", "total"]
      },
      "ErrorDetail": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "Error field name"
          },
          "message": {
            "type": "string",
            "description": "Error message"
          },
          "code": {
            "type": "string",
            "description": "Error code"
          }
        },
        "required": ["message"]
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "default": 400
          },
          "message": {
            "type": "string",
            "default": "Validation Error"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorDetail"
            },
            "description": "List of detailed errors"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
