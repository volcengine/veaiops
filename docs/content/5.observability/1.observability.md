---
title: 可观测
description: 介绍VeAIOps平台的可观测
navigation:
  icon: i-lucide-file
---

VeAIOps 支持 OpenTelemetry 协议，可将指标、日志和链路数据导出到兼容的后端系统。

::tabs
  ::tab{label="环境变量配置"}

    #### 环境变量说明
| 名称                            | 描述                                                        | 默认值            |
|-------------------------------|-----------------------------------------------------------|----------------|
| `OTEL_ENABLED`                | 是否开启 OpenTelemetry 可观测功能                                  | `"false"`      |
| `OTEL_EXPORTER_OTLP_ENDPOINT` | OpenTelemetry 导出器的 OTLP 端点地址                              | `""`           |
| `OTEL_MAX_EXPORT_BATCH_SIZE`  | OpenTelemetry 导出器的最大导出批次大小                                | `"512"`        |
| `OTEL_MAX_QUEUE_SIZE`         | OpenTelemetry 导出器的最大队列大小                                  | `"2048"`       |
| `OTEL_SCHEDULE_DELAY_MILLIS`  | OpenTelemetry 导出器的调度延迟毫秒数                                 | `"5000"`       |
| `OTEL_SERVICE_ENVIRONMENT`    | OpenTelemetry 服务环境变量                                      | `"production"` |
| `OTEL_SERVICE_NAME`           | OpenTelemetry 服务名称                                        | `"veaiops"`    |
| `OTEL_SERVICE_VERSION`        | OpenTelemetry 服务版本                                        | `"0.0.1"`      |
| `OTEL_TRACE_ID_RATIO`         | OpenTelemetry 采样率（0.0 到 1.0 之间），生产环境建议配置0.1，开发测试环境建议配置1.0 |

    ::tip
    强烈建议开启可观测，以便及时发现和诊断问题
    ::

    #### 生产环境推荐配置（以服务部署于火山引擎VKE为例）
    ```bash [yaml]
    apiVersion: v1
    data:
      OTEL_ENABLED: "true"
      OTEL_EXPORTER_OTLP_ENDPOINT: http://otel-collector.kube-system.svc:4317
      OTEL_MAX_EXPORT_BATCH_SIZE: "512"
      OTEL_MAX_QUEUE_SIZE: "2048"
      OTEL_SCHEDULE_DELAY_MILLIS: "5000"
      OTEL_SERVICE_ENVIRONMENT: production
      OTEL_SERVICE_NAME: veaiops
      OTEL_SERVICE_VERSION: 0.0.1
      OTEL_TRACE_ID_RATIO: "1.0"
    kind: ConfigMap
    ```

  ::
  ::tab{label="可观测效果展示（以火山引擎VKE、APMPlus、VMP为例）"}

    #### VKE云原生观测
    ![VKE云原生观测](/veaiops/images/observability-summary.png)

    #### Trace分析
    ![Trace分析](/veaiops/images/observability-trace.png)

    #### 托管Prometheus
    ![托管Prometheus](/veaiops/images/observability-prometheus.png)

  ::
