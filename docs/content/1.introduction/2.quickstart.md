---
title: 快速开始
description: 快速部署 VeAIOps
navigation:
  icon: i-lucide-rocket
---

## 前置依赖

- [Helm 3](https://helm.sh/docs/intro/install/){:target="_blank" rel="noopener noreferrer"} 或以上版本
- Kubernetes（版本 1.24 及以上，推荐使用 [火山容器服务](https://www.volcengine.com/product/vke){:target="_blank" rel="noopener noreferrer"}）：需要在创建容器服务时允许“公网访问”和“API Server 公网访问”，并安装 Nginx Ingress Controller。
- MongoDB（版本 5.0 及以上，推荐使用 [火山MongoDB](https://www.volcengine.com/product/mongodb){:target="_blank" rel="noopener noreferrer"}）：默认部署时 helm chart 会自动创建一个 MongoDB 实例，您也可以选择使用已有的 MongoDB 实例。


## 使用 Helm Chart 快速安装

::tabs
  ::tab{label="使用 Helm Chart 快速安装"}

    您可以使用标准的 Helm Chart 来安装 VeAIOps 到您的 Kubernetes 集群中。

    ::tip
    请将 kubernetes 集群的 kubeconfig 下载到本地，helm 将通过 kubeconfig 将 VeAIOps 安装到目标 kubernetes 集群中。
    ::

    :::code-group

    ```bash [最新稳定版]
    git clone https://github.com/volcengine/veaiops.git
    ```

    :::

    :::code-group

    ```bash [切换到chart目录]
    cd charts/veaiops
    ```

    :::

    :::code-group

    ```bash [安装VeAIOps]
    helm --kubeconfig <path-to-kubeconfig> install veaiops -n veaiops-system --create-namespace --dependency-update .
    ```

    :::

    ![安装完成](/veaiops/images/deploy-completed.png)

    为了使用智能阈值的告警规则注入能力，您需要为VeAIOps事件中心配置Webhook地址，该地址将作为监控数据源（如火山云监控、阿里云监控、Zabbix等）投递的告警目标地址，因此监控数据源所在集群需要能够正确访问该地址。


  ::
  ::tab{label="在火山容器服务中快速安装"}

    您可以在[火山容器服务](https://www.volcengine.com/product/vke)中快速安装 VeAIOps 平台。

    ::steps
    ### 创建火山容器服务
    在创建容器服务时，需要允许“公网访问”和“API Server 公网访问”。
    ![创建容器服务1](/veaiops/images/create-vke-cluster1.png)
    在创建容器服务时，需要安装 "ingress-nginx"。
    ![创建容器服务2](/veaiops/images/create-vke-cluster2.png)
    ### 下载 KubeConfig
    在完成容器服务创建后，获取对应的“公网访问Config"。
    ![创建容器服务3](/veaiops/images/create-vke-cluster3.png)
    ### 使用 Helm Chart 安装 VeAIOps 到火山容器服务中
    :::code-group

    ```bash [最新稳定版]
    git clone https://github.com/volcengine/veaiops.git
    ```

    :::

    :::code-group

    ```bash [切换到chart目录]
    cd charts/veaiops
    ```

    :::

    :::code-group

    ```bash [安装VeAIOps]
    helm --kubeconfig <path-to-kubeconfig> install veaiops -n veaiops-system --create-namespace --dependency-update .
    ```

    :::

    ![安装完成](/veaiops/images/deploy-completed.png)

  ::
::

## 配置事件中心 Webhook 地址

::warning
为了使用智能阈值的告警规则注入能力，您需要为VeAIOps事件中心配置Webhook地址，该地址将作为监控数据源（如火山云监控、阿里云监控、Zabbix等）投递的告警目标地址，因此监控数据源所在集群需要能够正确访问该地址。请使用以下命令行操作完成配置：
::
```bash
$kubectl --kubeconfig <path-to-kubeconfig> get ingress veaiops-ingress -n veaiops-system
NAME              CLASS   HOSTS                        ADDRESS           PORTS   AGE
veaiops-ingress   nginx   veaiops.example-stable.com   <公网IP>           80      3h48m
```
从上图所示的执行结果中，获取和记录 `veaiops-ingress` 对应的公网 IP 地址，并通过以下的配置命令将该 IP 地址配置到 VeAIOps 事件中心的 Webhook 地址对应的环境变量 `WEBHOOK_EVENT_CENTER_EXTERNAL_URL` 中。
```bash
$kubectl --kubeconfig <path-to-kubeconfig> patch configmap env-config -n veaiops-system --type merge -p '{"data":{"WEBHOOK_EVENT_CENTER_EXTERNAL_URL":"https://<公网IP>"}}'
```
随后重启 VeAIOps 事件中心的 Deployment 来使配置生效：
```bash
$kubectl --kubeconfig <path-to-kubeconfig> rollout restart deployment veaiops-backend -n veaiops-system
```


## 配置

::warning
默认配置仅供 POC 测试，生产环境需要进行额外配置
::


1. 通过文件配置：请参考 [安装高级选项](/introduction/install-advanced-options) 来指定存储、部署策略等。
2. 可视化界面配置，请参考 [通用配置](/configurations/bot-management) 来进行功能配置。

## 功能场景

完成系统部署和配置后，您可以快速进行功能场景的配置，并开始使用VeAIOps的功能场景：

1. [ChatOps场景](/chatops/overview)：为您提供群聊内容异动感知、智能总结、主动回复和知识沉淀能力，全面提升应急协同效率。在开始使用前，您需要配置和引入群聊机器人，请参考[机器人管理](/configurations/bot-management)来配置和引入您的群聊机器人。

2. [智能阈值场景](/intelligent-threshold/overview)：为您的监控指标推荐最优的告警阈值并自动化生效和自主更新，解决传统静态阈值配置困难、误报漏报率高等问题。在开始使用前，您需要配置和引入监控指标，请参考[智能阈值配置](/intelligent-threshold/user-guide)来配置和引入您的监控数据源并为监控指标引入智能阈值能力。
